///////////////////////////////////////////////////////////////////////////////
//
//  Copyright (c) 2005, Adam Kubach
//  All rights reserved.
//  BSD License: http://www.opensource.org/licenses/bsd-license.html
//
///////////////////////////////////////////////////////////////////////////////

#include "Usul/CommandLine/Options.h"

using namespace Usul::CommandLine;


///////////////////////////////////////////////////////////////////////////////
//
//  Constructor
//
///////////////////////////////////////////////////////////////////////////////

Options::Options() : _options()
{
}

///////////////////////////////////////////////////////////////////////////////
//
//  Insert given option and value.
//
///////////////////////////////////////////////////////////////////////////////

void Options::insert ( const std::string& option, const std::string& value )
{
  _options.insert( Map::value_type ( option, value ) );
}


///////////////////////////////////////////////////////////////////////////////
//
//  Does this option exist?
//
///////////////////////////////////////////////////////////////////////////////

bool Options::option( const std::string& option ) const
{
  Map::const_iterator iter = _options.find( option );
  return ( iter != _options.end() );
}


///////////////////////////////////////////////////////////////////////////////
//
//  Get the value for the given option.
//
///////////////////////////////////////////////////////////////////////////////

std::string Options::value ( const std::string& option ) const
{
  Map::const_iterator iter = _options.find( option );
  if( iter != _options.end() )
    return iter->second;
  return "";
}


// -----------------------------------------------------------------------------
// The value as a string
// -----------------------------------------------------------------------------
std::string Options::stringValue ( const std::string& option ) const
{
  Map::const_iterator iter = _options.find( option );
  if( iter != _options.end() )
    return iter->second;
  return "";
}

///////////////////////////////////////////////////////////////////////////////
// The value as an integer
///////////////////////////////////////////////////////////////////////////////
 unsigned long int Options::intValue (const std::string& option) const {
  return atoi( this->stringValue(option).c_str() );
 }

///////////////////////////////////////////////////////////////////////////////
// Returns a float value from the Options
///////////////////////////////////////////////////////////////////////////////
float Options::floatValue(const std::string& option) const {
  return (float) atof(this->stringValue(option).c_str() );
}

