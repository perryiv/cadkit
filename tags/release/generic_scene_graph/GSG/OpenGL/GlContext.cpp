
///////////////////////////////////////////////////////////////////////////////
//
//  Copyright (c) 2002, Perry L. Miller IV
//  All rights reserved.
//  BSD License: http://www.opensource.org/licenses/bsd-license.html
//
///////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////
//
//  OpenGL rendering context.
//
///////////////////////////////////////////////////////////////////////////////

#include "GSG/OpenGL/Precompiled.h"
#include "GSG/OpenGL/GlContext.h"

using namespace GSG;


///////////////////////////////////////////////////////////////////////////////
//
//  Pointer to the current context.
//
///////////////////////////////////////////////////////////////////////////////

namespace GSG
{
  namespace Detail
  {
    GlContext *_current = 0x0;
  };
};


///////////////////////////////////////////////////////////////////////////////
//
//  Constructor.
//
///////////////////////////////////////////////////////////////////////////////

GlContext::GlContext() : Referenced()
{
  // Empty.
}


///////////////////////////////////////////////////////////////////////////////
//
//  Copy constructor.
//
///////////////////////////////////////////////////////////////////////////////

GlContext::GlContext ( const GlContext &c ) : Referenced ( c )
{
  // Empty.
}


///////////////////////////////////////////////////////////////////////////////
//
//  Destructor.
//
///////////////////////////////////////////////////////////////////////////////

GlContext::~GlContext()
{
  // Empty.
}


///////////////////////////////////////////////////////////////////////////////
//
//  Is this context the current one?
//
///////////////////////////////////////////////////////////////////////////////

bool GlContext::isCurrent() const
{
  Lock lock ( this );
  return ( this == Detail::_current );
}


///////////////////////////////////////////////////////////////////////////////
//
//  Make this context current.
//
///////////////////////////////////////////////////////////////////////////////

void GlContext::makeCurrent()
{
  Lock lock ( this );
  Detail::_current = this;
}
