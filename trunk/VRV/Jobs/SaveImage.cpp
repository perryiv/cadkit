
///////////////////////////////////////////////////////////////////////////////
//
//  Copyright (c) 2007, Arizona State University
//  All rights reserved.
//  BSD License: http://www.opensource.org/licenses/bsd-license.html
//  Author(s): Adam Kubach
//
///////////////////////////////////////////////////////////////////////////////

#include "VRV/Jobs/SaveImage.h"

#include "osgDB/WriteFile"

#include <iostream>

using namespace VRV::Jobs;


///////////////////////////////////////////////////////////////////////////////
//
//  Constructor.
//
///////////////////////////////////////////////////////////////////////////////

SaveImage::SaveImage ( const std::string& filename, osg::Image *image ) : 
  BaseClass ( ),
  _filename ( filename ),
  _image ( image )
{
}


///////////////////////////////////////////////////////////////////////////////
//
//  Destructor.
//
///////////////////////////////////////////////////////////////////////////////

SaveImage::~SaveImage ()
{
}


///////////////////////////////////////////////////////////////////////////////
//
//  Write the image.
//
///////////////////////////////////////////////////////////////////////////////

void SaveImage::_started()
{
  std::cout << " Writing image file: " << _filename << std::endl;

  // Write the image to file.
  osgDB::writeImageFile ( *_image, _filename );
}
