
///////////////////////////////////////////////////////////////////////////////
//
//  Copyright (c) 2002, Perry L. Miller IV
//  All rights reserved.
//  BSD License: http://www.opensource.org/licenses/bsd-license.html
//
///////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////
//
//  Get and set pointer to the application.
//
///////////////////////////////////////////////////////////////////////////////

#include "FoxTools/Functions/App.h"

#include <string>
#include <stdexcept>


///////////////////////////////////////////////////////////////////////////////
//
//  Pointer to the application.
//
///////////////////////////////////////////////////////////////////////////////

namespace FoxTools
{
  namespace Functions
  {
    namespace Detail
    {
      FX::FXApp *_app ( 0x0 );
    }
  }
}


///////////////////////////////////////////////////////////////////////////////
//
//  Get pointer to the application. It may be null.
//
///////////////////////////////////////////////////////////////////////////////

FX::FXApp *FoxTools::Functions::application()
{
  if ( 0x0 == Detail::_app )
  {
    std::string error ( "Error 2984657943: Accessing null pointer to application" );
    throw std::runtime_error ( error );
  }

  return Detail::_app;
}


///////////////////////////////////////////////////////////////////////////////
//
//  Set pointer to the application.
//
///////////////////////////////////////////////////////////////////////////////

void FoxTools::Functions::application ( FX::FXApp *app )
{
  Detail::_app = app;
}
