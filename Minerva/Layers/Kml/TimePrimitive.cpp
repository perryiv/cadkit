
///////////////////////////////////////////////////////////////////////////////
//
//  Copyright (c) 2008, Adam Kubach
//  All rights reserved.
//  BSD License: http://www.opensource.org/licenses/bsd-license.html
//
///////////////////////////////////////////////////////////////////////////////

#include "Minerva/Layers/Kml/TimePrimitive.h"
#include "Minerva/Core/Animate/Date.h"

#include "Usul/Strings/Split.h"

#include <vector>

using namespace Minerva::Layers::Kml;


///////////////////////////////////////////////////////////////////////////////
//
//  Constructor.
//
///////////////////////////////////////////////////////////////////////////////

TimePrimitive::TimePrimitive() : BaseClass()
{
}


///////////////////////////////////////////////////////////////////////////////
//
//  Constructor.
//
///////////////////////////////////////////////////////////////////////////////

TimePrimitive::TimePrimitive ( const XmlTree::Node &node ) : BaseClass ( node )
{
}


///////////////////////////////////////////////////////////////////////////////
//
//  Destructor.
//
///////////////////////////////////////////////////////////////////////////////

TimePrimitive::~TimePrimitive()
{
}


///////////////////////////////////////////////////////////////////////////////
//
//  Parse.
//
///////////////////////////////////////////////////////////////////////////////

TimePrimitive::Date TimePrimitive::parse ( const std::string& value )
{
  typedef std::vector<std::string> Strings;
  Strings strings;
  Usul::Strings::split ( value, "T", false, strings );
  
  std::string date ( strings.size() > 0 ? strings[0] : "" );
  
  // Currently not handling time.
  //std::string time ( strings.size() > 1 ? strings[1] : "" );
  
  return Date ( date );
}
