
///////////////////////////////////////////////////////////////////////////////
//
//  Copyright (c) 2008, Adam Kubach
//  All rights reserved.
//  BSD License: http://www.opensource.org/licenses/bsd-license.html
//
///////////////////////////////////////////////////////////////////////////////

#include "Minerva/Layers/Kml/Style.h"

#include "XmlTree/Node.h"

using namespace Minerva::Layers::Kml;


///////////////////////////////////////////////////////////////////////////////
//
//  Constructor.
//
///////////////////////////////////////////////////////////////////////////////

Style::Style() : BaseClass(),
	_polystyle ( 0x0 )
{
}


///////////////////////////////////////////////////////////////////////////////
//
//  Constructor.
//
///////////////////////////////////////////////////////////////////////////////

Style::Style ( const XmlTree::Node& node ) : BaseClass ( node ),
	_polystyle ( 0x0 )
{
	typedef XmlTree::Node::Children Children;
  
  Children children ( node.children() );
  for ( Children::iterator iter = children.begin(); iter != children.end(); ++iter )
  {
    XmlTree::Node::RefPtr node ( *iter );
    std::string name ( node->name() );
    
    if ( "PolyStyle" == name )
    {
			_polystyle = new PolyStyle ( *node );
    }
  }
}


///////////////////////////////////////////////////////////////////////////////
//
//  Destructor.
//
///////////////////////////////////////////////////////////////////////////////

Style::~Style()
{
}


///////////////////////////////////////////////////////////////////////////////
//
//  Set the polystyle.
//
///////////////////////////////////////////////////////////////////////////////

void Style::polystyle ( PolyStyle * polystyle )
{
	_polystyle = polystyle;
}


///////////////////////////////////////////////////////////////////////////////
//
//  Get the polystyle.
//
///////////////////////////////////////////////////////////////////////////////

PolyStyle* Style::polystyle() const
{
	return _polystyle.get();
}
