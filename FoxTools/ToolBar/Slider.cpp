

///////////////////////////////////////////////////////////////////////////////
//
//  Copyright (c) 2005, Adam Kubach
//  All rights reserved.
//  BSD License: http://www.opensource.org/licenses/bsd-license.html
//
///////////////////////////////////////////////////////////////////////////////

#include "FoxTools/ToolBar/Slider.h"

#include "FoxTools/Headers/Slider.h"

using namespace FoxTools::ToolBar;


///////////////////////////////////////////////////////////////////////////////
//
//  Constructor.
//
///////////////////////////////////////////////////////////////////////////////

Slider::Slider ( const std::string &name, 
                     FX::FXObject *target, 
                     unsigned int selector, 
                     unsigned int token ) : 
  BaseClass ( name, "", "", target, selector, token ),
  _slider ( 0x0 )
{
}


///////////////////////////////////////////////////////////////////////////////
//
//  Destructor.
//
///////////////////////////////////////////////////////////////////////////////

Slider::~Slider()
{
  if( _slider )
  {
    _slider->setUserData ( 0x0 );
    delete _slider;
  }
}


///////////////////////////////////////////////////////////////////////////////
//
//  Clear the button.
//
///////////////////////////////////////////////////////////////////////////////

void Slider::clear()
{
  if( _slider )
  {
    _slider->setUserData ( 0x0 );
    delete _slider;
  }
  _slider = 0x0;
}


///////////////////////////////////////////////////////////////////////////////
//
//  Build the button.
//
///////////////////////////////////////////////////////////////////////////////

void Slider::_build ( FX::FXComposite *parent )
{
  if ( 0x0 == _slider )
  {
    std::ostringstream text;
    text << "\t" << this->name() << '\t' << this->description();

    // Make the Slider.
    unsigned int layout ( FX::SLIDER_NORMAL | FX::LAYOUT_FILL_X );
    _slider = new FX::FXSlider ( parent, this->target(), this->selector(), layout );
    _slider->setRange( 0, 100 );
    
    _slider->setUserData ( this );
  }
}


///////////////////////////////////////////////////////////////////////////////
//
//  Create.
//
///////////////////////////////////////////////////////////////////////////////

void Slider::_create ()
{
  // Create the combo box if we can.
  if ( _slider && !_slider->id() )
    _slider->create();
}

