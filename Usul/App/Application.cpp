
///////////////////////////////////////////////////////////////////////////////
//
//  Copyright (c) 2007, Arizona State University
//  All rights reserved.
//  BSD License: http://www.opensource.org/licenses/bsd-license.html
//  Created by: Adam Kubach
//
///////////////////////////////////////////////////////////////////////////////

#include "Usul/App/Application.h"
#include "Usul/CommandLine/Arguments.h"

using namespace Usul::App;

///////////////////////////////////////////////////////////////////////////////
//
//  Initialize static data members.
//
///////////////////////////////////////////////////////////////////////////////

Application * Application::_instance ( 0x0 );


///////////////////////////////////////////////////////////////////////////////
//
//  Create instance.
//
///////////////////////////////////////////////////////////////////////////////

Application& Application::instance()
{
  if( 0x0 == _instance )
    _instance = new Application;

  return *_instance;
}


///////////////////////////////////////////////////////////////////////////////
//
//  Constructor.
//
///////////////////////////////////////////////////////////////////////////////

Application::Application() :
	_splashImage ()
{
}


///////////////////////////////////////////////////////////////////////////////
//
//  Destructor.
//
///////////////////////////////////////////////////////////////////////////////

Application::~Application()
{
}


///////////////////////////////////////////////////////////////////////////////
//
//  Get the directory where the icons live.
//
///////////////////////////////////////////////////////////////////////////////

const std::string Application::iconDirectory() const
{
	const std::string dir ( Usul::CommandLine::Arguments::instance().directory() );
	std::string path ( dir + "/icons/" );

  return path;
}


///////////////////////////////////////////////////////////////////////////////
//
//  Set the splash image name.
//
///////////////////////////////////////////////////////////////////////////////

void Application::splashImage( const std::string& image )
{
	_splashImage = image;
}


///////////////////////////////////////////////////////////////////////////////
//
//  Get the splash image name.
//
///////////////////////////////////////////////////////////////////////////////

const std::string & Application::splashImage( ) const
{
	return _splashImage;
}


///////////////////////////////////////////////////////////////////////////////
//
//  Get the path to the splash screen image.
//
///////////////////////////////////////////////////////////////////////////////

std::string Application::splashImagePath() const
{
	return this->iconDirectory() + this->splashImage();
}
